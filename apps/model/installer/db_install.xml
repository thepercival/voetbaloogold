<?xml version="1.0" encoding="UTF-8"?>
<db>
	<Additions>
		<Version>V0.50</Version>

		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>Modules</Name>
				<Columns>
					<Column>
						<Name>Name</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
					</Column>
				</Columns>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>UsersExt</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>LoginName</Name>
						<Datatype>varchar</Datatype>
						<Length>100</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column> 
						<Name>Password</Name>
						<Datatype>varchar</Datatype>
						<Length>256</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>System</Name>
						<Datatype>tinyint</Datatype>
						<Nullable>N</Nullable>
						<DefaultValue>0</DefaultValue>
						<DefaultValueName>DF_UsersExt_System</DefaultValueName>
					</Column>
					<Column>
						<Name>LatestLoginDateTime</Name>
						<Datatype>datetime</Datatype>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>LatestLoginIpAddress</Name>
						<Datatype>varchar</Datatype>
						<Length>15</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>Preferences</Name>
						<Datatype>varchar</Datatype>
						<Length>1024</Length>
						<Nullable>Y</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_UsersExt_LoginName</Name>
						<Columns>
							<Column>
								<Name>LoginName</Name>
							</Column>
						</Columns>
					</Index>
				</Indices>
				<Keys>
					<Key>
						<Name>UK_UsersExt_1</Name>
						<TypeE>UNIQUE</TypeE>
						<Columns>
							<Column>
								<Name>LoginName</Name>
							</Column>
						</Columns>
					</Key>
				</Keys>
			</table>
		</Addition>

		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>Roles</Name>
				<Columns>
					<Column>
						<Name>Name</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
					</Column>
					<Column>
						<Name>System</Name>
						<Datatype>tinyint</Datatype>
						<Nullable>N</Nullable>
						<DefaultValue>0</DefaultValue>
						<DefaultValueName>DF_Roles_System</DefaultValueName>
					</Column>
				</Columns>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>	
			<table>	
				<Name>UsersPerRole</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>UserId</Name>
						<Datatype>int</Datatype>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>RoleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_UPR_UserId</Name>
						<Columns>
							<Column>
								<Name>UserId</Name>
							</Column>
						</Columns>
					</Index>
					<Index>
						<Name>IDX_UPR_RoleName</Name>
						<Columns>
							<Column>
								<Name>RoleName</Name>
							</Column>
						</Columns>
					</Index>
				</Indices>
				<Keys>
					<Key>
						<Name>FK_UPR_UserId</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>C</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>UserId</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>UsersExt</Name>
							<Columns>
								<Column>
									<Name>Id</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
					<Key>
						<Name>FK_UPR_RoleName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>RoleName</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>Roles</Name>
							<Columns>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>
		</Addition>

		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>Actions</Name>
				<Columns>
					<Column>
						<Name>ModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
					</Column>
					<Column>
						<Name>Name</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_Actions_ModuleName</Name>
						<Columns>
							<Column>
								<Name>ModuleName</Name>		
							</Column>
						</Columns>
					</Index>	
				</Indices>
				<Keys>
					<Key>
						<Name>FK_Actions_ModuleName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>C</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ModuleName</Name>		
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>Modules</Name>
							<Columns>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>	
		</Addition>

		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>ActionsPerRole</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>RoleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>ActionModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>ActionName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_APR_RoleName</Name>
						<Columns>
							<Column>
								<Name>RoleName</Name>
							</Column>
						</Columns>
					</Index>
					<Index>
						<Name>IDX_APR_ActionName</Name>
						<Columns>
							<Column>
								<Name>ActionName</Name>
							</Column>
						</Columns>
					</Index>
				</Indices>
				<Keys>
					<Key>
						<Name>FK_APR_RoleName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>RoleName</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>Roles</Name>
							<Columns>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
					<Key>
						<Name>FK_APR_ActionName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>C</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ActionModuleName</Name>
							</Column>
							<Column>
								<Name>ActionName</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>Actions</Name>
							<Columns>
								<Column>
									<Name>ModuleName</Name>
								</Column>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>
		</Addition>

		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>MenuItems</Name>
				<Columns>
					<Column>
						<Name>ModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
					</Column>
					<Column>
						<Name>Name</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
					</Column>
					<Column>
						<Name>Description</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>ActionModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>ActionName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_MenuItems_ModuleName</Name>
						<Columns>
							<Column>
								<Name>ModuleName</Name>		
							</Column>
						</Columns>
					</Index>
					<Index>
						<Name>IDX_MenuItems_Action</Name>
						<Columns>
							<Column>
								<Name>ActionModuleName</Name>		
							</Column>
							<Column>
								<Name>ActionName</Name>		
							</Column>
						</Columns>
					</Index>							
				</Indices>
				<Keys>
					<Key>
						<Name>FK_MenuItems_ModuleName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>C</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ModuleName</Name>		
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>Modules</Name>
							<Columns>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
					<Key>
						<Name>FK_MenuItems_Action</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ActionModuleName</Name>							
							</Column>
							<Column>
								<Name>ActionName</Name>							
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>Actions</Name>
							<Columns>
								<Column>
									<Name>ModuleName</Name>
								</Column>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>MenuItemHierarchy</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>ParentMenuItemModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>ParentMenuItemName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>ChildMenuItemModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>ChildMenuItemName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>Order</Name>
						<Datatype>tinyint</Datatype>
						<Nullable>N</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_MIH_ChildMenuItemName</Name>
						<Columns>
							<Column>
								<Name>ChildMenuItemModuleName</Name>		
							</Column>
							<Column>
								<Name>ChildMenuItemName</Name>		
							</Column>
						</Columns>
					</Index>
					<Index>
						<Name>IDX_MenuItems_ParentMenuItemName</Name>
						<Columns>
							<Column>
								<Name>ParentMenuItemModuleName</Name>		
							</Column>
							<Column>
								<Name>ParentMenuItemName</Name>		
							</Column>
						</Columns>
					</Index>							
				</Indices>
				<Keys>
					<Key>
						<Name>FK_MIH_ChildMenuItemName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ChildMenuItemModuleName</Name>		
							</Column>
							<Column>
								<Name>ChildMenuItemName</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>MenuItems</Name>
							<Columns>
								<Column>
									<Name>ModuleName</Name>
								</Column>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
					<Key>
						<Name>FK_MIH_ParentMenuItemName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ParentMenuItemModuleName</Name>		
							</Column>
							<Column>
								<Name>ParentMenuItemName</Name>		
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>MenuItems</Name>
							<Columns>
								<Column>
									<Name>ModuleName</Name>
								</Column>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>	
			<table>
				<Name>MenuItemsPerRole</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>RoleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>MenuItemModuleName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>MenuItemName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_MIPR_RoleName</Name>
						<Columns>
							<Column>
								<Name>RoleName</Name>		
							</Column>
						</Columns>
					</Index>
					<Index>
						<Name>IDX_MIPR_MenuItemName</Name>
						<Columns>
							<Column>
								<Name>MenuItemModuleName</Name>		
							</Column>
							<Column>
								<Name>MenuItemName</Name>		
							</Column>
						</Columns>
					</Index>							
				</Indices>
				<Keys>
					<Key>
						<Name>FK_MIPR_RoleName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>RoleName</Name>		
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>Roles</Name>
							<Columns>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>			
					<Key>
						<Name>FK_MIPR_MenuItemName</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>C</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>MenuItemModuleName</Name>		
							</Column>
							<Column>
								<Name>MenuItemName</Name>		
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>MenuItems</Name>
							<Columns>
								<Column>
									<Name>ModuleName</Name>
								</Column>
								<Column>
									<Name>Name</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>			
				</Keys>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>			
			<table>
				<Name>ImportRuns</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>					
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>Entity</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>StartDateTime</Name>
						<Datatype>datetime</Datatype>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>EndDateTime</Name>
						<Datatype>datetime</Datatype>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>Initiator</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
				</Columns>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>
			<table>
				<Name>ImportDetails</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>int</Datatype>					
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>Entity</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>SystemId</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>Action</Name>
						<Datatype>varchar</Datatype>
						<Length>6</Length>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>PropertyName</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>OldValue</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>NewValue</Name>
						<Datatype>varchar</Datatype>
						<Length>50</Length>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>ImportRunId</Name>
						<Datatype>int</Datatype>
						<Nullable>Y</Nullable>
					</Column>
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_ImportDetails_ImportRunId</Name>
						<Columns>
							<Column>
								<Name>ImportRunId</Name>		
							</Column>
						</Columns>
					</Index>				
				</Indices>
				<Keys>
					<Key>
						<Name>FK_ImportDetails_ImportRunId</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>C</DeleteRule>
						<UpdateRule>C</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ImportRunId</Name>		
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>						
							<Name>ImportRuns</Name>
							<Columns>
								<Column>
									<Name>Id</Name>
								</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>
		</Addition>
		
		<Addition>
			<Name>TableAdd</Name>
			<table>
				<Name>Messages</Name>
				<Columns>
					<Column>
						<Name>Id</Name>
						<Datatype>mediumint</Datatype>
						<Nullable>N</Nullable>
						<Primary>Y</Primary>
						<AutoIncrement>Y</AutoIncrement>
					</Column>
					<Column>
						<Name>Subject</Name>
						<Datatype>varchar</Datatype>
						<Length>200</Length>
						<Nullable>Y</Nullable>						
					</Column>
					<Column>
						<Name>Description</Name>
						<Datatype>text</Datatype>
						<Nullable>N</Nullable>						
					</Column>	
					<Column>
						<Name>InputDateTime</Name>
						<Datatype>datetime</Datatype>
						<Nullable>N</Nullable>						
					</Column>	
					<Column>
						<Name>State</Name>
						<Datatype>tinyint</Datatype>
						<Nullable>N</Nullable>
					</Column>
					<Column>
						<Name>FromUserId</Name>
						<Datatype>int</Datatype>
						<Nullable>Y</Nullable>
					</Column>
					<Column>
						<Name>ToUserId</Name>
						<Datatype>int</Datatype>
						<Nullable>Y</Nullable>
					</Column>
					<Column>					
						<Name>Context</Name>
						<Datatype>tinyint</Datatype>
						<Nullable>N</Nullable>
					</Column>		
				</Columns>
				<Indices>
					<Index>
						<Name>IDX_Messages_FromUserId</Name>
						<Columns>
							<Column>
								<Name>FromUserId</Name>		
							</Column>
						</Columns>
					</Index>
					<Index>
						<Name>IDX_Messages_ToUserId</Name>
						<Columns>
							<Column>
								<Name>ToUserId</Name>
							</Column>
						</Columns>
					</Index>
				</Indices>
				<Keys>
					<Key>
						<Name>FK_Messages_FromUserId</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>FromUserId</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>UsersExt</Name>
							<Columns>
								<Column>
									<Name>Id</Name>
						 		</Column>
							</Columns>
						</ReferencingTable>
					</Key>
					<Key>
						<Name>FK_Messages_ToUserId</Name>
						<TypeE>FOREIGN</TypeE>
						<DeleteRule>R</DeleteRule>
						<UpdateRule>R</UpdateRule>
						<ReferencedByColumns>
							<Column>
								<Name>ToUserId</Name>
							</Column>
						</ReferencedByColumns>
						<ReferencingTable>
							<Name>UsersExt</Name>
							<Columns>
								<Column>
									<Name>Id</Name>
						 		</Column>
							</Columns>
						</ReferencingTable>
					</Key>
				</Keys>
			</table>
		</Addition>
	</Additions>
</db>